pipeline {
    agent any
    stages {
        stage('Stage@1') {
            steps {
                git branch: 'main', url: 'https://github.com/DEVOPSDEVSECOPSKISHOR/MULTI_PIPELINE_01.git'
               }
        }
        stage('stage@2'){
            steps{
                sh '''
                     echo "$WORKSPACE"
                '''    
}    
    }
        stage('stage@3'){
            steps{
                script{
                    configFile="$WORKSPACE/config.properties"
                    config=[:]
                    try{
                        config = readProperties file: configFile
                    }catch (Expeption e) {
                            echo "Failed to load properties file: ${e.message}"
                            error("Failed to load properties file: ${e.message}")
                    }
                    echo configFile
                    echo config
                    env.CONFIGFILE=configFile
                    sh '''
                        cat $CONFIGFILE
                    '''
                       
                }
            }
}
}
}
